const id="ragnarok/ro-7.md",collection="posts",slug="ragnarok/ro-7",body='### AutoAttack System\n\n\n> 1. Masuk ke root/folder rAthena server\n> 2. atcommand.inc (src/custom/atcommand.inc)\n> 3. atcommand_def.inc (src/custom/atcommand_def.inc)\n> 4. pc.hpp (src/map/pc.hpp)\n\n:::note\nPoint 1 : kalian download terlebih dahulu ragnarok server rathena !!!\nuntuk versi rAthena Server terbaru autoscript belum ditest!point 1 ini saya kira cukup mudah dan saya skip ke point 2!\n:::\n\n> 2. Edit atcommand.inc\n\nadd script\n\n```\nnano src/custom/atcommand.inc\n\n\nstatic int buildin_autoattack_sub(struct block_list *bl,va_list ap)\n{\n    int *target_id=va_arg(ap,int *);\n    *target_id = bl->id;\n    return 1;\n}\n \nvoid autoattack_motion(struct map_session_data* sd)\n{\n    int i, target_id;\n    if( pc_isdead(sd) || !sd->state.autoattack ) return;\n\n    for(i=0;i<=9;i++)\n    {\n        target_id=0;\n        map_foreachinarea(buildin_autoattack_sub, sd->bl.m, sd->bl.x-i, sd->bl.y-i, sd->bl.x+i, sd->bl.y+i, BL_MOB, &target_id);\n        if(target_id){\n            unit_attack(&sd->bl,target_id,1);\n            break;\n        }\n        target_id=0;\n    }\n    if(!target_id && !pc_isdead(sd) && sd->state.autoattack){\n        unit_walktoxy(&sd->bl,sd->bl.x+(rand()%2==0?-1:1)*(rand()%25),sd->bl.y+(rand()%2==0?-1:1)*(rand()%25),0);\n    }\n    return;\n}\n\nstatic TIMER_FUNC(autoattack_timer)\n{\n    struct map_session_data *sd=NULL;\n\n    sd=map_id2sd(id);\n    if(sd==NULL || pc_isdead(sd) || !sd->state.autoattack )\n        return 0;\n\n    if(sd->state.autoattack)\n    {\n        unit_stop_attack(&sd->bl);\n        autoattack_motion(sd);\n        if(DIFF_TICK(sd->autoattack_delay,gettick())> 0){\n            clif_authfail_fd(sd->fd, 15);\n            return 0;\n        }\n        else{\n            add_timer(gettick()+1000,autoattack_timer,sd->bl.id,0);    // 1000 is delay\n            sd->autoattack_delay = gettick() + 1000;    // 1000 is delay\n        }\n    }\n    return 0;\n}\n\nACMD_FUNC(autoattack)\n{\n    nullpo_retr(-1, sd);\n    if (sd->state.autoattack)\n    {\n        sd->state.autoattack = 0;\n        unit_stop_attack(&sd->bl);\n       clif_displaymessage(fd, "Auto Attack OFF.");\n    }\n   else\n    {\n       sd->state.autoattack = 1;\n       add_timer(gettick()+1000,autoattack_timer,sd->bl.id,0);\n       clif_displaymessage(fd, "Auto Attack ON.");\n   }\n    return 0;\n}\n```\n\n> 3. Edit atcommand_def.inc\n\n\n```\nnano src/custom/atcommand_def.inc\n\nadd ACMD_DEF(autoattack),\n\n\nfind "//ACMD_DEF(newcommand),"\n\n//ACMD_DEF(newcommand),\nACMD_DEF(autoattack),\n```\n\n> 4. Edit pc.hpp\n\n```\nnano src/map/pc.hpp\n\nadd :\n\nstruct autoattack_delay;  // autoattack timer kuyyy\n\nunsigned autoattack : 1; // autoattack kuuyyyy\n\nt_tick autoattack_delay;        // kuyyy\n```\n\n`find : struct regen_data_sub sregen, ssregen;`\n\n```\nstruct regen_data_sub sregen, ssregen;\n+struct autoattack_delay;  // autoattack timer kuyyy\n```\n\n`find : unsigned int noks : 3; // [Zeph Kill Steal Protection]`\n\n```\nunsigned int noks : 3; // [Zeph Kill Steal Protection]\n+unsigned autoattack : 1; // autoattack kuuyyyy\n```\n\n`find : t_tick equipswitch_tick; // Equip switch`\n\n```\nt_tick equipswitch_tick; // Equip switch\n+t_tick autoattack_delay;        // kuyyy\n\nstruct s_item_delay {\n```\n\n:::note\nMungkin di rAthena terbaru tidak kompetable namun tidak ada salahnya untuk dicoba terlebih dahulu\n:::\n\n:::note[See you]\nSemoga bermanfaat dan selamat berimajenasi ðŸ˜‚\n:::\n',data={title:"Autoattack Script Ragnarok",published:new Date(17672256e5),draft:!1,description:"Autoattack script Ragnarok rAthena Server",image:"/images/Screenshot_3.png.d0bbbf122092eade742a044f4937cf38.png",tags:["Ragnarok","Linux Basic","Termux Basic","Basic Termux","Blogging","Catatan"],category:"Ragnarok"},_internal={type:"content",filePath:"/home/noobieta/my-fuwari/src/content/posts/ragnarok/ro-7.md",rawData:void 0};export{_internal,body,collection,data,id,slug};
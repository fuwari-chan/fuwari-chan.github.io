import{c as createComponent,r as renderTemplate,m as maybeRenderHead,u as unescapeHTML}from"./chunk.BElhfJQu.js";const html='<h2 id="mysql-5717-redhat-arm64">MYSQL 5.7.17 Redhat Arm64<a class="anchor" href="#mysql-5717-redhat-arm64"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2>\n<p style="text-align: justify;">\nÂ  Â  Now we will learn how to compile MySQL 5.7.17, actually not much different from the previous post <a href="https://fuwari-chan.github.io/posts/mysql/mysql-1/">Mysql On Redhat Arm64</a> , the difference when running a rather complicated server from the new version, is quite valuable for us to learn he...ðŸ¤“, how to compile and run mysql server version 5.7.17 on redhat arm64, like the previous post you can check for yourself what the compiling requirements are mysql can be checked here <a href="https://fuwari-chan.github.io/posts/mysql/mysql-1/">MySQL On Redhat Arm64</a></p>\n<p style="text-align: justify;">\nÂ  Â  If we have completed the requirements for compiling MySQL 5.7.17, we proceed to the next stage :</p>\n<ol>\n<li>Extract the MySQL source code</li>\n<li>Determine the path/dir for MySQL</li>\n<li>Configure the MySQL compile script</li>\n<li>Compile MySQL</li>\n<li>Running MySQL</li>\n</ol>\n<h3 id="1-extract-the-mysql-source-code">1. Extract the MySQL source code<a class="anchor" href="#1-extract-the-mysql-source-code"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>tar -xvf mysql-boost-5.7.17.tar.gz</span></span>\n<span class="line"><span></span></span></code></pre>\n<h3 id="2-determine-the-pathdir-for-mysql">2. Determine the path/dir for MySQL<a class="anchor" href="#2-determine-the-pathdir-for-mysql"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>mv mysql-5.7.17 /opt/</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>For example, I save the MySQL source code in the /opt directory</p></blockquote>\n<h3 id="3-configure-the-mysql-compile-script">3. Configure the MySQL compile script<a class="anchor" href="#3-configure-the-mysql-compile-script"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>cd /opt/mysql-5.7.17/</span></span>\n<span class="line"><span>nano compile</span></span>\n<span class="line"><span></span></span></code></pre>\n<p><code>Copy Paste My Script</code></p>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>#!/usr/bin/sh</span></span>\n<span class="line"><span>#script compile Â© noobieta</span></span>\n<span class="line"><span>U=${SUDO_USER:=${USER}}</span></span>\n<span class="line"><span>if [[ -x `which realpath` ]]; then</span></span>\n<span class="line"><span>        T=$(realpath ${BASH_SOURCE[0]:=${0}})</span></span>\n<span class="line"><span>else</span></span>\n<span class="line"><span>        T=${BASH_SOURCE[0]:=${0}}</span></span>\n<span class="line"><span>fi</span></span>\n<span class="line"><span>D=$(dirname ${T})</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>cmake \\</span></span>\n<span class="line"><span>-DWITH_BOOST=$D/boost/boost_1_59_0 \\</span></span>\n<span class="line"><span>-DCMAKE_INSTALL_PREFIX=/opt/MY-APP/mysql-5.7.17/www/server/mysql \\</span></span>\n<span class="line"><span>-DWITH_INNOBASE_STORAGE_ENGINE=1 \\</span></span>\n<span class="line"><span>-DDEFAULT_CHARSET=utf8 \\</span></span>\n<span class="line"><span>-DDEFAULT_COLLATION=utf8_general_ci \\</span></span>\n<span class="line"><span>-DMYSQL_UNIX_ADDR=/opt/MY-APP/mysql-5.7.17/tmp/run/mysql.sock \\</span></span>\n<span class="line"><span>-DMYSQL_DATADIR=/opt/MY-APP/mysql-5.7.17/www/server/data \\</span></span>\n<span class="line"><span>-DSYSCONFDIR=/opt/MY-APP/mysql-5.7.17/etc \\</span></span>\n<span class="line"><span></span></span></code></pre>\n<p><code>ctrl</code> + <code>x</code> yes to save</p>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>The script above is an example\nnext we create a directory according to the script we created above!!!</p></blockquote>\n<h4 id="create-prefix-mysql-directory">Create PREFIX MySQL directory<a class="anchor" href="#create-prefix-mysql-directory"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>mkdir -p /opt/MY-APP/mysql-5.7.17/www/server/mysql</span></span>\n<span class="line"><span></span></span></code></pre>\n<h4 id="create-unix-socket-mysql-directory">Create UNIX Socket MySQL directory<a class="anchor" href="#create-unix-socket-mysql-directory"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>mkdir -p /opt/MY-APP/mysql-5.7.17/tmp/run/</span></span>\n<span class="line"><span></span></span></code></pre>\n<h4 id="create-data-mysql-directory">Create Data MySQL directory<a class="anchor" href="#create-data-mysql-directory"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>mkdir -p /opt/MY-APP/mysql-5.7.17/www/server/data</span></span>\n<span class="line"><span></span></span></code></pre>\n<h4 id="create-sysconfig-mysql-directory">Create Sysconfig MySQL directory<a class="anchor" href="#create-sysconfig-mysql-directory"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>mkdir -p /opt/MY-APP/mysql-5.7.17/etc</span></span>\n<span class="line"><span></span></span></code></pre>\n<h4 id="give-permission-unix-socket-mysql-directory">Give Permission UNIX Socket MySQL directory<a class="anchor" href="#give-permission-unix-socket-mysql-directory"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>sudo chmod -R 755 /opt/MY-APP/mysql-5.7.17/tmp/run/</span></span>\n<span class="line"><span></span></span></code></pre>\n<h4 id="give-pernission--data-mysql-directory">Give Pernission  data MySQL directory<a class="anchor" href="#give-pernission--data-mysql-directory"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>sudo chmod -R 777 /opt/MY-APP/mysql-5.7.17/www/server/data</span></span>\n<span class="line"><span></span></span></code></pre>\n<h4 id="give-permission-sysconfig-mysql-directory">Give Permission Sysconfig MySQL directory<a class="anchor" href="#give-permission-sysconfig-mysql-directory"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>sudo chmod 755 /opt/MY-APP/mysql-5.7.17/etc</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>create directory follow the script compile</p></blockquote>\n<h4 id="create-sysconfig-for-mysql">Create Sysconfig For MySQL<a class="anchor" href="#create-sysconfig-for-mysql"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>nano my.cnf</span></span>\n<span class="line"><span></span></span></code></pre>\n<p><code>Copy Paste My Script</code></p>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>[client]</span></span>\n<span class="line"><span>#password\t= 12345678</span></span>\n<span class="line"><span>port\t\t= 3306</span></span>\n<span class="line"><span>socket\t\t= /opt/MY-APP/mysql-5.7.17/tmp/run/mysql.sock</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>[mysqld]</span></span>\n<span class="line"><span>#user\t\t= root</span></span>\n<span class="line"><span>port\t\t= 3306</span></span>\n<span class="line"><span>socket\t\t= /opt/MY-APP/mysql-5.7.17/tmp/run/mysql.sock</span></span>\n<span class="line"><span>datadir = /opt/MY-APP/mysql-5.7.17/www/server/data</span></span>\n<span class="line"><span>collation-server = utf8_unicode_ci</span></span>\n<span class="line"><span>init-connect=\'SET NAMES utf8\'</span></span>\n<span class="line"><span>character-set-server = utf8</span></span>\n<span class="line"><span>#default-character-set=utf8</span></span>\n<span class="line"><span>default_storage_engine = InnoDB</span></span>\n<span class="line"><span>performance_schema_max_table_instances = 400</span></span>\n<span class="line"><span>table_definition_cache = 400</span></span>\n<span class="line"><span>#skip-extended-insert</span></span>\n<span class="line"><span>skip-external-locking</span></span>\n<span class="line"><span>key_buffer_size = 64M</span></span>\n<span class="line"><span>max_allowed_packet = 1G</span></span>\n<span class="line"><span>table_open_cache = 256</span></span>\n<span class="line"><span>sort_buffer_size = 1M</span></span>\n<span class="line"><span>net_buffer_length = 4K</span></span>\n<span class="line"><span>read_buffer_size = 1M</span></span>\n<span class="line"><span>read_rnd_buffer_size = 256K</span></span>\n<span class="line"><span>myisam_sort_buffer_size = 16M</span></span>\n<span class="line"><span>thread_cache_size = 32</span></span>\n<span class="line"><span>query_cache_size = 32M</span></span>\n<span class="line"><span>tmp_table_size = 64M</span></span>\n<span class="line"><span>#sql-mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>explicit_defaults_for_timestamp = true</span></span>\n<span class="line"><span>#skip-name-resolve</span></span>\n<span class="line"><span>max_connections = 500</span></span>\n<span class="line"><span>max_connect_errors = 100</span></span>\n<span class="line"><span>#open_files_limit = 65535</span></span>\n<span class="line"><span>open_files_limit = 32535</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>log-bin=mysql-bin</span></span>\n<span class="line"><span>binlog_format=mixed</span></span>\n<span class="line"><span>server-id = 1</span></span>\n<span class="line"><span>expire_logs_days = 10</span></span>\n<span class="line"><span>slow_query_log=1</span></span>\n<span class="line"><span>slow-query-log-file= /opt/MY-APP/mysql-5.7.17/www/server/data/mysql-slow.log</span></span>\n<span class="line"><span>long_query_time=3</span></span>\n<span class="line"><span>#log_queries_not_using_indexes=on</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>innodb_data_home_dir = /opt/MY-APP/mysql-5.7.17/www/server/data</span></span>\n<span class="line"><span>innodb_data_file_path = ibdata1:10M:autoextend</span></span>\n<span class="line"><span>innodb_log_group_home_dir = /opt/MY-APP/mysql-5.7.17/www/server/data</span></span>\n<span class="line"><span>innodb_buffer_pool_size = 256M</span></span>\n<span class="line"><span>innodb_log_file_size = 128M</span></span>\n<span class="line"><span>innodb_log_buffer_size = 32M</span></span>\n<span class="line"><span>innodb_flush_log_at_trx_commit = 1</span></span>\n<span class="line"><span>innodb_lock_wait_timeout = 50</span></span>\n<span class="line"><span>innodb_max_dirty_pages_pct = 90</span></span>\n<span class="line"><span>innodb_read_io_threads = 8</span></span>\n<span class="line"><span>innodb_write_io_threads = 8</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>[mysqldump]</span></span>\n<span class="line"><span>quick</span></span>\n<span class="line"><span>#max_allowed_packet = 500M</span></span>\n<span class="line"><span>max_allowed_packet = 100G</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>[mysql]</span></span>\n<span class="line"><span>no-auto-rehash</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>[myisamchk]</span></span>\n<span class="line"><span>key_buffer_size = 64M</span></span>\n<span class="line"><span>sort_buffer_size = 1M</span></span>\n<span class="line"><span>read_buffer = 2M</span></span>\n<span class="line"><span>write_buffer = 2M</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>[mysqlhotcopy]</span></span>\n<span class="line"><span>interactive-timeout</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span></span></span></code></pre>\n<h4 id="move-script-sysconfig-mysql">Move Script Sysconfig MySQL<a class="anchor" href="#move-script-sysconfig-mysql"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>mv my.cnf /opt/MY-APP/mysql-5.7.17/etc</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>or</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>sudo mv my.cnf /opt/MY-APP/mysql-5.7.17/etc</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>Script my.cnf just for example!!!</p></blockquote>\n<h3 id="4-compile-mysql">4. Compile MySQL<a class="anchor" href="#4-compile-mysql"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>bash compile</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>or</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>chmod +x compile</span></span>\n<span class="line"><span>./compile</span></span>\n<span class="line"><span></span></span></code></pre>\n<h4 id="make-it">Make it<a class="anchor" href="#make-it"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>make</span></span>\n<span class="line"><span></span></span></code></pre>\n<h3 id="install-to-optmy-appmysql-5717">Install to /opt/MY-APP/mysql-5.7.17/<a class="anchor" href="#install-to-optmy-appmysql-5717"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>sudo make install</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>Wait until the process is complete ðŸ˜Ž\nIf it is finished we move on to the next stage!!!</p></blockquote>\n<h3 id="5-running-mysql">5. Running MySQL<a class="anchor" href="#5-running-mysql"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<ol>\n<li>inisialize</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>www/server/mysql/bin/mysqld --inisialize</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>Wait until the process is complete ðŸ˜Ž!!!</p></blockquote>\n<ol start="2">\n<li>Run mysqld</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>www/server/mysql/bin/mysqld</span></span>\n<span class="line"><span></span></span></code></pre>\n<ol start="3">\n<li>Run client</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>www/server/mysql/bin/mysql -uroot</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title"><div>Trouble</div></span><p><code>ERROR 1045 (28000): Access denied for user \'root\'@\'localhost\' (using password: NO)</code></p></blockquote>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>pkill mysqld</span></span>\n<span class="line"><span></span></span></code></pre>\n<ol>\n<li>Run mysqld_safe</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>www/server/mysql/bin/mysqld_safe --skip-grant-tables</span></span>\n<span class="line"><span></span></span></code></pre>\n<ol start="2">\n<li>Run Client</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>www/server/mysql/bin/mysql -uroot</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>You can access mysql server version 5.7.17 without password but without privileges!!!</p><p>How to access privileges?</p></blockquote>\n<p>Screenshot</p>\n<center><img width="500" height="500" src="/images/mysqld_safe.png"></center>\n<h3 id="create-user--password-for-access-privileges-mysql">Create User &#x26; Password for Access Privileges MySQL<a class="anchor" href="#create-user--password-for-access-privileges-mysql"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<ol>\n<li>Run Mysql Server</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>www/server/mysql/bin/mysqld_safe --skip-grant-tables</span></span>\n<span class="line"><span></span></span></code></pre>\n<ol start="2">\n<li>Run Client</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>www/server/mysql/bin/mysql -uroot</span></span>\n<span class="line"><span></span></span></code></pre>\n<ol start="3">\n<li>Create user and password MySQL</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>CREATE USER \'redhat\'@\'localhost\' IDENTIFIED  BY \'12345678\';</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title"><div>Trouble</div></span><p>The command to create a user and password above is for example and you will encounter the following problem:</p><p><code>ERROR 1290 (HY000): The MySQL server is running with the --skip-grant-tables option so it cannot execute this statement</code></p></blockquote>\n<p>Screenshot</p>\n<center><img width="500" height="500" src="/images/erroruser.png"></center>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>FLUSH PRIVILEGES;</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>Enter the command again to create a MySQL user and password</p></blockquote>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>CREATE USER \'redhat\'@\'localhost\' IDENTIFIED  BY \'12345678\';</span></span>\n<span class="line"><span></span></span></code></pre>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>GRANT CREATE, ALTER, DROP, INSERT, UPDATE, DELETE, SELECT, REFERENCES, RELOAD on *.* TO \'redhat\'@\'localhost\' WITH GRANT OPTION;</span></span>\n<span class="line"><span></span></span></code></pre>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>GRANT ALL PRIVILEGES ON *.* TO \'redhat\'@\'localhost\' WITH GRANT OPTION;</span></span>\n<span class="line"><span></span></span></code></pre>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>FLUSH PRIVILEGES;</span></span>\n<span class="line"><span></span></span></code></pre>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>quit;</span></span>\n<span class="line"><span></span></span></code></pre>\n<h4 id="test-user-privileges-mysql">Test User Privileges MySQL<a class="anchor" href="#test-user-privileges-mysql"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>pkill mysqld</span></span>\n<span class="line"><span></span></span></code></pre>\n<ol>\n<li>Run MySQL Server</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>www/server/mysql/bin/mysqld</span></span>\n<span class="line"><span></span></span></code></pre>\n<ol start="2">\n<li>Run Client</li>\n</ol>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>www/server/mysql/bin/mysql -u redhat -p</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>Enter the password you created previously!!!</p></blockquote>\n<h2 id="violaaa-">Violaaa ðŸ¥³<a class="anchor" href="#violaaa-"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2>\n<p>Screenshot show database</p>\n<center><img width="500" height="500" src="/images/databases.png"></center>\n<p>Screenshot create database</p>\n<center><img width="500" height="500" src="/images/createdatabase.png"></center>\n<blockquote class="admonition bdm-note"><span class="bdm-title"><div>The end</div></span><p>I Hope this useful and thank you ðŸ¥³</p></blockquote>',frontmatter={title:"MySQL 5.7.17 On Redhat",published:"2024-12-06T00:00:00.000Z",description:"How to Compile MySQL 5.7.17 On Redhat Arm64",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRf7DmRKlxafKjPMzLm49FFUix6Hc-5conTsotJz9EkAKHfuU54b3X3VhO_&s=10",tags:["Basic Termux","Termux Basic","Linux Basic","Basic Linux","Blogging","Catatan","Tutorial","MySQL"],category:"MYSQL",draft:!1,minutes:3,words:664},file="/home/kosetsu/my-doc/fuwariblog/src/content/posts/mysql/mysql-3.md",url=void 0;function rawContent(){return'## MYSQL 5.7.17 Redhat Arm64\n\n<p style="text-align: justify;">\n&nbsp; &nbsp; Now we will learn how to compile MySQL 5.7.17, actually not much different from the previous post <a href="https://fuwari-chan.github.io/posts/mysql/mysql-1/">Mysql On Redhat Arm64</a> , the difference when running a rather complicated server from the new version, is quite valuable for us to learn he...ðŸ¤“, how to compile and run mysql server version 5.7.17 on redhat arm64, like the previous post you can check for yourself what the compiling requirements are mysql can be checked here <a href="https://fuwari-chan.github.io/posts/mysql/mysql-1/">MySQL On Redhat Arm64</a></p>\n\n<p style="text-align: justify;">\n&nbsp; &nbsp; If we have completed the requirements for compiling MySQL 5.7.17, we proceed to the next stage :</p>\n\n1. Extract the MySQL source code\n2. Determine the path/dir for MySQL\n3. Configure the MySQL compile script\n4. Compile MySQL\n5. Running MySQL\n\n### 1. Extract the MySQL source code\n\n```\ntar -xvf mysql-boost-5.7.17.tar.gz\n```\n\n### 2. Determine the path/dir for MySQL\n\n```\nmv mysql-5.7.17 /opt/\n```\n\n:::note\nFor example, I save the MySQL source code in the /opt directory\n:::\n\n### 3. Configure the MySQL compile script\n\n```\ncd /opt/mysql-5.7.17/\nnano compile\n```\n\n`Copy Paste My Script`\n\n```\n#!/usr/bin/sh\n#script compile Â© noobieta\nU=${SUDO_USER:=${USER}}\nif [[ -x `which realpath` ]]; then\n        T=$(realpath ${BASH_SOURCE[0]:=${0}})\nelse\n        T=${BASH_SOURCE[0]:=${0}}\nfi\nD=$(dirname ${T})\n\ncmake \\\n-DWITH_BOOST=$D/boost/boost_1_59_0 \\\n-DCMAKE_INSTALL_PREFIX=/opt/MY-APP/mysql-5.7.17/www/server/mysql \\\n-DWITH_INNOBASE_STORAGE_ENGINE=1 \\\n-DDEFAULT_CHARSET=utf8 \\\n-DDEFAULT_COLLATION=utf8_general_ci \\\n-DMYSQL_UNIX_ADDR=/opt/MY-APP/mysql-5.7.17/tmp/run/mysql.sock \\\n-DMYSQL_DATADIR=/opt/MY-APP/mysql-5.7.17/www/server/data \\\n-DSYSCONFDIR=/opt/MY-APP/mysql-5.7.17/etc \\\n```\n\n`ctrl` + `x` yes to save \n\n:::note\nThe script above is an example\nnext we create a directory according to the script we created above!!!\n:::\n\n#### Create PREFIX MySQL directory\n\n```\nmkdir -p /opt/MY-APP/mysql-5.7.17/www/server/mysql\n```\n#### Create UNIX Socket MySQL directory\n\n```\nmkdir -p /opt/MY-APP/mysql-5.7.17/tmp/run/\n```\n\n#### Create Data MySQL directory\n\n```\nmkdir -p /opt/MY-APP/mysql-5.7.17/www/server/data\n```\n\n#### Create Sysconfig MySQL directory\n\n```\nmkdir -p /opt/MY-APP/mysql-5.7.17/etc\n```\n\n#### Give Permission UNIX Socket MySQL directory\n\n```\nsudo chmod -R 755 /opt/MY-APP/mysql-5.7.17/tmp/run/\n```\n\n#### Give Pernission  data MySQL directory\n\n```\nsudo chmod -R 777 /opt/MY-APP/mysql-5.7.17/www/server/data\n```\n\n#### Give Permission Sysconfig MySQL directory\n\n```\nsudo chmod 755 /opt/MY-APP/mysql-5.7.17/etc\n```\n\n:::note\ncreate directory follow the script compile\n:::\n\n#### Create Sysconfig For MySQL\n\n```\nnano my.cnf\n```\n\n`Copy Paste My Script`\n\n```\n[client]\n#password\t= 12345678\nport\t\t= 3306\nsocket\t\t= /opt/MY-APP/mysql-5.7.17/tmp/run/mysql.sock\n\n[mysqld]\n#user\t\t= root\nport\t\t= 3306\nsocket\t\t= /opt/MY-APP/mysql-5.7.17/tmp/run/mysql.sock\ndatadir = /opt/MY-APP/mysql-5.7.17/www/server/data\ncollation-server = utf8_unicode_ci\ninit-connect=\'SET NAMES utf8\'\ncharacter-set-server = utf8\n#default-character-set=utf8\ndefault_storage_engine = InnoDB\nperformance_schema_max_table_instances = 400\ntable_definition_cache = 400\n#skip-extended-insert\nskip-external-locking\nkey_buffer_size = 64M\nmax_allowed_packet = 1G\ntable_open_cache = 256\nsort_buffer_size = 1M\nnet_buffer_length = 4K\nread_buffer_size = 1M\nread_rnd_buffer_size = 256K\nmyisam_sort_buffer_size = 16M\nthread_cache_size = 32\nquery_cache_size = 32M\ntmp_table_size = 64M\n#sql-mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\n\nexplicit_defaults_for_timestamp = true\n#skip-name-resolve\nmax_connections = 500\nmax_connect_errors = 100\n#open_files_limit = 65535\nopen_files_limit = 32535\n\nlog-bin=mysql-bin\nbinlog_format=mixed\nserver-id = 1\nexpire_logs_days = 10\nslow_query_log=1\nslow-query-log-file= /opt/MY-APP/mysql-5.7.17/www/server/data/mysql-slow.log\nlong_query_time=3\n#log_queries_not_using_indexes=on\n\n\ninnodb_data_home_dir = /opt/MY-APP/mysql-5.7.17/www/server/data\ninnodb_data_file_path = ibdata1:10M:autoextend\ninnodb_log_group_home_dir = /opt/MY-APP/mysql-5.7.17/www/server/data\ninnodb_buffer_pool_size = 256M\ninnodb_log_file_size = 128M\ninnodb_log_buffer_size = 32M\ninnodb_flush_log_at_trx_commit = 1\ninnodb_lock_wait_timeout = 50\ninnodb_max_dirty_pages_pct = 90\ninnodb_read_io_threads = 8\ninnodb_write_io_threads = 8\n\n[mysqldump]\nquick\n#max_allowed_packet = 500M\nmax_allowed_packet = 100G\n\n[mysql]\nno-auto-rehash\n\n[myisamchk]\nkey_buffer_size = 64M\nsort_buffer_size = 1M\nread_buffer = 2M\nwrite_buffer = 2M\n\n[mysqlhotcopy]\ninteractive-timeout\n\n```\n\n#### Move Script Sysconfig MySQL\n\n```\nmv my.cnf /opt/MY-APP/mysql-5.7.17/etc\n\nor\n\nsudo mv my.cnf /opt/MY-APP/mysql-5.7.17/etc\n```\n:::note\nScript my.cnf just for example!!!\n:::\n\n### 4. Compile MySQL\n\n```\nbash compile\n\nor\n\nchmod +x compile\n./compile\n```\n\n#### Make it\n\n```\nmake\n```\n\n### Install to /opt/MY-APP/mysql-5.7.17/\n\n```\nsudo make install\n```\n\n:::note\nWait until the process is complete ðŸ˜Ž \nIf it is finished we move on to the next stage!!!\n:::\n\n### 5. Running MySQL\n\n1. inisialize\n\n```\nwww/server/mysql/bin/mysqld --inisialize\n```\n\n:::note\nWait until the process is complete ðŸ˜Ž!!!\n:::\n\n2. Run mysqld\n\n```\nwww/server/mysql/bin/mysqld\n```\n\n3. Run client\n\n```\nwww/server/mysql/bin/mysql -uroot\n```\n\n:::note[Trouble]\n`ERROR 1045 (28000): Access denied for user \'root\'@\'localhost\' (using password: NO)`\n:::\n\n```\npkill mysqld\n```\n\n1. Run mysqld_safe\n\n```\nwww/server/mysql/bin/mysqld_safe --skip-grant-tables\n```\n2. Run Client\n\n```\nwww/server/mysql/bin/mysql -uroot\n```\n\n:::note\nYou can access mysql server version 5.7.17 without password but without privileges!!!\n\nHow to access privileges?\n:::\n\nScreenshot\n\n<center><img width="500" height="500" src="/images/mysqld_safe.png"/></center>\n\n\n### Create User & Password for Access Privileges MySQL\n\n1. Run Mysql Server\n\n```\nwww/server/mysql/bin/mysqld_safe --skip-grant-tables\n```\n2. Run Client\n\n```\nwww/server/mysql/bin/mysql -uroot\n```\n\n3. Create user and password MySQL\n\n```\nCREATE USER \'redhat\'@\'localhost\' IDENTIFIED  BY \'12345678\';\n```\n\n:::note[Trouble]\nThe command to create a user and password above is for example and you will encounter the following problem:\n\n`ERROR 1290 (HY000): The MySQL server is running with the --skip-grant-tables option so it cannot execute this statement`\n:::\n\nScreenshot\n\n<center><img width="500" height="500" src="/images/erroruser.png"/></center>\n\n\n```\nFLUSH PRIVILEGES;\n```\n:::note\nEnter the command again to create a MySQL user and password\n:::\n\n```\nCREATE USER \'redhat\'@\'localhost\' IDENTIFIED  BY \'12345678\';\n```\n\n```\nGRANT CREATE, ALTER, DROP, INSERT, UPDATE, DELETE, SELECT, REFERENCES, RELOAD on *.* TO \'redhat\'@\'localhost\' WITH GRANT OPTION;\n```\n\n```\nGRANT ALL PRIVILEGES ON *.* TO \'redhat\'@\'localhost\' WITH GRANT OPTION;\n```\n\n```\nFLUSH PRIVILEGES;\n```\n\n```\nquit;\n```\n\n#### Test User Privileges MySQL\n\n```\npkill mysqld\n```\n\n1. Run MySQL Server\n\n```\nwww/server/mysql/bin/mysqld\n```\n\n2. Run Client\n\n```\nwww/server/mysql/bin/mysql -u redhat -p\n```\n\n:::note\nEnter the password you created previously!!!\n:::\n\n## Violaaa ðŸ¥³\n\nScreenshot show database\n\n<center><img width="500" height="500" src="/images/databases.png" /></center>\n\n\nScreenshot create database\n\n<center><img width="500" height="500" src="/images/createdatabase.png" /></center>\n\n\n:::note[The end]\nI Hope this useful and thank you ðŸ¥³\n:::\n'}function compiledContent(){return html}function getHeadings(){return[{depth:2,slug:"mysql-5717-redhat-arm64",text:"MYSQL 5.7.17 Redhat Arm64#"},{depth:3,slug:"1-extract-the-mysql-source-code",text:"1. Extract the MySQL source code#"},{depth:3,slug:"2-determine-the-pathdir-for-mysql",text:"2. Determine the path/dir for MySQL#"},{depth:3,slug:"3-configure-the-mysql-compile-script",text:"3. Configure the MySQL compile script#"},{depth:4,slug:"create-prefix-mysql-directory",text:"Create PREFIX MySQL directory#"},{depth:4,slug:"create-unix-socket-mysql-directory",text:"Create UNIX Socket MySQL directory#"},{depth:4,slug:"create-data-mysql-directory",text:"Create Data MySQL directory#"},{depth:4,slug:"create-sysconfig-mysql-directory",text:"Create Sysconfig MySQL directory#"},{depth:4,slug:"give-permission-unix-socket-mysql-directory",text:"Give Permission UNIX Socket MySQL directory#"},{depth:4,slug:"give-pernission--data-mysql-directory",text:"Give Pernission  data MySQL directory#"},{depth:4,slug:"give-permission-sysconfig-mysql-directory",text:"Give Permission Sysconfig MySQL directory#"},{depth:4,slug:"create-sysconfig-for-mysql",text:"Create Sysconfig For MySQL#"},{depth:4,slug:"move-script-sysconfig-mysql",text:"Move Script Sysconfig MySQL#"},{depth:3,slug:"4-compile-mysql",text:"4. Compile MySQL#"},{depth:4,slug:"make-it",text:"Make it#"},{depth:3,slug:"install-to-optmy-appmysql-5717",text:"Install to /opt/MY-APP/mysql-5.7.17/#"},{depth:3,slug:"5-running-mysql",text:"5. Running MySQL#"},{depth:3,slug:"create-user--password-for-access-privileges-mysql",text:"Create User & Password for Access Privileges MySQL#"},{depth:4,slug:"test-user-privileges-mysql",text:"Test User Privileges MySQL#"},{depth:2,slug:"violaaa-",text:"Violaaa ðŸ¥³#"}]}const Content=createComponent(((n,s,a)=>{const{layout:e,...o}=frontmatter;return o.file=file,o.url=url,renderTemplate`${maybeRenderHead()}${unescapeHTML(html)}`}));export{Content,compiledContent,Content as default,file,frontmatter,getHeadings,rawContent,url};
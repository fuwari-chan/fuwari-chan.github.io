import{c as createComponent,r as renderTemplate,m as maybeRenderHead,u as unescapeHTML}from"./chunk.BElhfJQu.js";const html='<h3 id="autoattack-system">AutoAttack System<a class="anchor" href="#autoattack-system"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<blockquote>\n<ol>\n<li>Masuk ke root/folder rAthena server</li>\n<li>atcommand.inc (src/custom/atcommand.inc)</li>\n<li>atcommand_def.inc (src/custom/atcommand_def.inc)</li>\n<li>pc.hpp (src/map/pc.hpp)</li>\n</ol>\n</blockquote>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>Point 1 : kalian download terlebih dahulu ragnarok server rathena !!!\nuntuk versi rAthena Server terbaru autoscript belum ditest!point 1 ini saya kira cukup mudah dan saya skip ke point 2!</p></blockquote>\n<blockquote>\n<ol start="2">\n<li>Edit atcommand.inc</li>\n</ol>\n</blockquote>\n<p>add script</p>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>nano src/custom/atcommand.inc</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>static int buildin_autoattack_sub(struct block_list *bl,va_list ap)</span></span>\n<span class="line"><span>{</span></span>\n<span class="line"><span>    int *target_id=va_arg(ap,int *);</span></span>\n<span class="line"><span>    *target_id = bl->id;</span></span>\n<span class="line"><span>    return 1;</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span> </span></span>\n<span class="line"><span>void autoattack_motion(struct map_session_data* sd)</span></span>\n<span class="line"><span>{</span></span>\n<span class="line"><span>    int i, target_id;</span></span>\n<span class="line"><span>    if( pc_isdead(sd) || !sd->state.autoattack ) return;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    for(i=0;i&#x3C;=9;i++)</span></span>\n<span class="line"><span>    {</span></span>\n<span class="line"><span>        target_id=0;</span></span>\n<span class="line"><span>        map_foreachinarea(buildin_autoattack_sub, sd->bl.m, sd->bl.x-i, sd->bl.y-i, sd->bl.x+i, sd->bl.y+i, BL_MOB, &#x26;target_id);</span></span>\n<span class="line"><span>        if(target_id){</span></span>\n<span class="line"><span>            unit_attack(&#x26;sd->bl,target_id,1);</span></span>\n<span class="line"><span>            break;</span></span>\n<span class="line"><span>        }</span></span>\n<span class="line"><span>        target_id=0;</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>    if(!target_id &#x26;&#x26; !pc_isdead(sd) &#x26;&#x26; sd->state.autoattack){</span></span>\n<span class="line"><span>        unit_walktoxy(&#x26;sd->bl,sd->bl.x+(rand()%2==0?-1:1)*(rand()%25),sd->bl.y+(rand()%2==0?-1:1)*(rand()%25),0);</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>    return;</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>static TIMER_FUNC(autoattack_timer)</span></span>\n<span class="line"><span>{</span></span>\n<span class="line"><span>    struct map_session_data *sd=NULL;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    sd=map_id2sd(id);</span></span>\n<span class="line"><span>    if(sd==NULL || pc_isdead(sd) || !sd->state.autoattack )</span></span>\n<span class="line"><span>        return 0;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    if(sd->state.autoattack)</span></span>\n<span class="line"><span>    {</span></span>\n<span class="line"><span>        unit_stop_attack(&#x26;sd->bl);</span></span>\n<span class="line"><span>        autoattack_motion(sd);</span></span>\n<span class="line"><span>        if(DIFF_TICK(sd->autoattack_delay,gettick())> 0){</span></span>\n<span class="line"><span>            clif_authfail_fd(sd->fd, 15);</span></span>\n<span class="line"><span>            return 0;</span></span>\n<span class="line"><span>        }</span></span>\n<span class="line"><span>        else{</span></span>\n<span class="line"><span>            add_timer(gettick()+1000,autoattack_timer,sd->bl.id,0);    // 1000 is delay</span></span>\n<span class="line"><span>            sd->autoattack_delay = gettick() + 1000;    // 1000 is delay</span></span>\n<span class="line"><span>        }</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>    return 0;</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>ACMD_FUNC(autoattack)</span></span>\n<span class="line"><span>{</span></span>\n<span class="line"><span>    nullpo_retr(-1, sd);</span></span>\n<span class="line"><span>    if (sd->state.autoattack)</span></span>\n<span class="line"><span>    {</span></span>\n<span class="line"><span>        sd->state.autoattack = 0;</span></span>\n<span class="line"><span>        unit_stop_attack(&#x26;sd->bl);</span></span>\n<span class="line"><span>       clif_displaymessage(fd, "Auto Attack OFF.");</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>   else</span></span>\n<span class="line"><span>    {</span></span>\n<span class="line"><span>       sd->state.autoattack = 1;</span></span>\n<span class="line"><span>       add_timer(gettick()+1000,autoattack_timer,sd->bl.id,0);</span></span>\n<span class="line"><span>       clif_displaymessage(fd, "Auto Attack ON.");</span></span>\n<span class="line"><span>   }</span></span>\n<span class="line"><span>    return 0;</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote>\n<ol start="3">\n<li>Edit atcommand_def.inc</li>\n</ol>\n</blockquote>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>nano src/custom/atcommand_def.inc</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>add ACMD_DEF(autoattack),</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>find "//ACMD_DEF(newcommand),"</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>//ACMD_DEF(newcommand),</span></span>\n<span class="line"><span>ACMD_DEF(autoattack),</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote>\n<ol start="4">\n<li>Edit pc.hpp</li>\n</ol>\n</blockquote>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>nano src/map/pc.hpp</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>add :</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>struct autoattack_delay;  // autoattack timer kuyyy</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>unsigned autoattack : 1; // autoattack kuuyyyy</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>t_tick autoattack_delay;        // kuyyy</span></span>\n<span class="line"><span></span></span></code></pre>\n<p><code>find : struct regen_data_sub sregen, ssregen;</code></p>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>struct regen_data_sub sregen, ssregen;</span></span>\n<span class="line"><span>+struct autoattack_delay;  // autoattack timer kuyyy</span></span>\n<span class="line"><span></span></span></code></pre>\n<p><code>find : unsigned int noks : 3; // [Zeph Kill Steal Protection]</code></p>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>unsigned int noks : 3; // [Zeph Kill Steal Protection]</span></span>\n<span class="line"><span>+unsigned autoattack : 1; // autoattack kuuyyyy</span></span>\n<span class="line"><span></span></span></code></pre>\n<p><code>find : t_tick equipswitch_tick; // Equip switch</code></p>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>t_tick equipswitch_tick; // Equip switch</span></span>\n<span class="line"><span>+t_tick autoattack_delay;        // kuyyy</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>struct s_item_delay {</span></span>\n<span class="line"><span></span></span></code></pre>\n<blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>Mungkin di rAthena terbaru tidak kompetable namun tidak ada salahnya untuk dicoba terlebih dahulu</p></blockquote>\n<blockquote class="admonition bdm-note"><span class="bdm-title"><div>See you</div></span><p>Semoga bermanfaat dan selamat berimajenasi ðŸ˜‚</p></blockquote>',frontmatter={title:"Autoattack Script Ragnarok",published:"2026-01-01T00:00:00.000Z",description:"Autoattack script Ragnarok rAthena Server",image:"/images/Screenshot_3.png.d0bbbf122092eade742a044f4937cf38.png",tags:["Ragnarok","Linux Basic","Termux Basic","Basic Termux","Blogging","Catatan"],category:"Ragnarok",draft:!1,minutes:1,words:280},file="/home/noobieta/my-fuwari/src/content/posts/ragnarok/ro-7.md",url=void 0;function rawContent(){return'### AutoAttack System\n\n\n> 1. Masuk ke root/folder rAthena server\n> 2. atcommand.inc (src/custom/atcommand.inc)\n> 3. atcommand_def.inc (src/custom/atcommand_def.inc)\n> 4. pc.hpp (src/map/pc.hpp)\n\n:::note\nPoint 1 : kalian download terlebih dahulu ragnarok server rathena !!!\nuntuk versi rAthena Server terbaru autoscript belum ditest!point 1 ini saya kira cukup mudah dan saya skip ke point 2!\n:::\n\n> 2. Edit atcommand.inc\n\nadd script\n\n```\nnano src/custom/atcommand.inc\n\n\nstatic int buildin_autoattack_sub(struct block_list *bl,va_list ap)\n{\n    int *target_id=va_arg(ap,int *);\n    *target_id = bl->id;\n    return 1;\n}\n \nvoid autoattack_motion(struct map_session_data* sd)\n{\n    int i, target_id;\n    if( pc_isdead(sd) || !sd->state.autoattack ) return;\n\n    for(i=0;i<=9;i++)\n    {\n        target_id=0;\n        map_foreachinarea(buildin_autoattack_sub, sd->bl.m, sd->bl.x-i, sd->bl.y-i, sd->bl.x+i, sd->bl.y+i, BL_MOB, &target_id);\n        if(target_id){\n            unit_attack(&sd->bl,target_id,1);\n            break;\n        }\n        target_id=0;\n    }\n    if(!target_id && !pc_isdead(sd) && sd->state.autoattack){\n        unit_walktoxy(&sd->bl,sd->bl.x+(rand()%2==0?-1:1)*(rand()%25),sd->bl.y+(rand()%2==0?-1:1)*(rand()%25),0);\n    }\n    return;\n}\n\nstatic TIMER_FUNC(autoattack_timer)\n{\n    struct map_session_data *sd=NULL;\n\n    sd=map_id2sd(id);\n    if(sd==NULL || pc_isdead(sd) || !sd->state.autoattack )\n        return 0;\n\n    if(sd->state.autoattack)\n    {\n        unit_stop_attack(&sd->bl);\n        autoattack_motion(sd);\n        if(DIFF_TICK(sd->autoattack_delay,gettick())> 0){\n            clif_authfail_fd(sd->fd, 15);\n            return 0;\n        }\n        else{\n            add_timer(gettick()+1000,autoattack_timer,sd->bl.id,0);    // 1000 is delay\n            sd->autoattack_delay = gettick() + 1000;    // 1000 is delay\n        }\n    }\n    return 0;\n}\n\nACMD_FUNC(autoattack)\n{\n    nullpo_retr(-1, sd);\n    if (sd->state.autoattack)\n    {\n        sd->state.autoattack = 0;\n        unit_stop_attack(&sd->bl);\n       clif_displaymessage(fd, "Auto Attack OFF.");\n    }\n   else\n    {\n       sd->state.autoattack = 1;\n       add_timer(gettick()+1000,autoattack_timer,sd->bl.id,0);\n       clif_displaymessage(fd, "Auto Attack ON.");\n   }\n    return 0;\n}\n```\n\n> 3. Edit atcommand_def.inc\n\n\n```\nnano src/custom/atcommand_def.inc\n\nadd ACMD_DEF(autoattack),\n\n\nfind "//ACMD_DEF(newcommand),"\n\n//ACMD_DEF(newcommand),\nACMD_DEF(autoattack),\n```\n\n> 4. Edit pc.hpp\n\n```\nnano src/map/pc.hpp\n\nadd :\n\nstruct autoattack_delay;  // autoattack timer kuyyy\n\nunsigned autoattack : 1; // autoattack kuuyyyy\n\nt_tick autoattack_delay;        // kuyyy\n```\n\n`find : struct regen_data_sub sregen, ssregen;`\n\n```\nstruct regen_data_sub sregen, ssregen;\n+struct autoattack_delay;  // autoattack timer kuyyy\n```\n\n`find : unsigned int noks : 3; // [Zeph Kill Steal Protection]`\n\n```\nunsigned int noks : 3; // [Zeph Kill Steal Protection]\n+unsigned autoattack : 1; // autoattack kuuyyyy\n```\n\n`find : t_tick equipswitch_tick; // Equip switch`\n\n```\nt_tick equipswitch_tick; // Equip switch\n+t_tick autoattack_delay;        // kuyyy\n\nstruct s_item_delay {\n```\n\n:::note\nMungkin di rAthena terbaru tidak kompetable namun tidak ada salahnya untuk dicoba terlebih dahulu\n:::\n\n:::note[See you]\nSemoga bermanfaat dan selamat berimajenasi ðŸ˜‚\n:::\n'}function compiledContent(){return html}function getHeadings(){return[{depth:3,slug:"autoattack-system",text:"AutoAttack System#"}]}const Content=createComponent(((a,n,s)=>{const{layout:t,...p}=frontmatter;return p.file=file,p.url=url,renderTemplate`${maybeRenderHead()}${unescapeHTML(html)}`}));export{Content,compiledContent,Content as default,file,frontmatter,getHeadings,rawContent,url};
import{b as createAstro,c as createComponent,r as renderTemplate,m as maybeRenderHead,d as addAttribute}from"./chunk.BElhfJQu.js";import{a as getSortedPosts,U as UNCATEGORIZED,i as i18n,I as I18nKey,e as getPostUrlBySlug}from"./chunk.BWXNObZa.js";const $$Astro=createAstro("https://fuwari-chan.github.io"),$$ArchivePanel=createComponent((async(t,a,e)=>{const r=t.createAstro($$Astro,a,e);r.self=$$ArchivePanel;const{keyword:s,tags:i,categories:o}=r.props;let l=await getSortedPosts();Array.isArray(i)&&i.length>0&&(l=l.filter((t=>Array.isArray(t.data.tags)&&t.data.tags.some((t=>i.includes(t)))))),Array.isArray(o)&&o.length>0&&(l=l.filter((t=>t.data.category&&o.includes(t.data.category)||!t.data.category&&o.includes(UNCATEGORIZED))));const d=function(){const t=l.reduce(((t,a)=>{const e=a.data.published.getFullYear();return t[e]||(t[e]=[]),t[e].push(a),t}),{}),a=Object.keys(t).map((a=>({year:a,posts:t[a]})));return a.sort(((t,a)=>a.year-t.year)),a}();return renderTemplate`${maybeRenderHead()}<div class="card-base px-8 py-6" data-astro-cid-up4uz3l3> ${d.map((t=>renderTemplate`<div data-astro-cid-up4uz3l3> <div class="flex flex-row w-full items-center h-[3.75rem]" data-astro-cid-up4uz3l3> <div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75" data-astro-cid-up4uz3l3>${t.year}</div> <div class="w-[15%] md:w-[10%]" data-astro-cid-up4uz3l3> <div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto -outline-offset-[2px] z-50 outline-3" data-astro-cid-up4uz3l3></div> </div> <div class="w-[70%] md:w-[80%] transition text-left text-50" data-astro-cid-up4uz3l3>${t.posts.length} ${i18n(I18nKey.postsCount)}</div> </div> ${t.posts.map((t=>{return renderTemplate`<a${addAttribute(getPostUrlBySlug(t.slug),"href")}${addAttribute(t.data.title,"aria-label")} class="group btn-plain block h-10 w-full rounded-lg hover:text-[initial]" data-astro-cid-up4uz3l3> <div class="flex flex-row justify-start items-center h-full" data-astro-cid-up4uz3l3> <!-- date --> <div class="w-[15%] md:w-[10%] transition text-sm text-right text-50" data-astro-cid-up4uz3l3> ${e=t.data.published,`${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`} </div> <!-- dot and line --> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center" data-astro-cid-up4uz3l3> <div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                                bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                                outline outline-4 z-50
                                outline-[var(--card-bg)]
                                group-hover:outline-[var(--btn-plain-bg-hover)]
                                group-active:outline-[var(--btn-plain-bg-active)]
                                " data-astro-cid-up4uz3l3></div> </div> <!-- post title --> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                                group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                                text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden" data-astro-cid-up4uz3l3> ${t.data.title} </div> <!-- tag list --> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                            whitespace-nowrap overflow-ellipsis overflow-hidden
                            text-30" data-astro-cid-up4uz3l3>${a=t.data.tags,a.map((t=>`#${t}`)).join(" ")}</div> </div> </a>`;var a,e}))} </div>`))} </div> `}),"/home/kosetsu/my-doc/fuwariblog/src/components/ArchivePanel.astro",void 0),$$file="/home/kosetsu/my-doc/fuwariblog/src/components/ArchivePanel.astro",$$url=void 0;export{$$ArchivePanel as default,$$file as file,$$url as url};
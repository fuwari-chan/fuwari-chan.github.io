const id="mysql/mysql-3.md",collection="posts",slug="mysql/mysql-3",body='## MYSQL 5.7.17 Redhat Arm64\n\n<p style="text-align: justify;">\n&nbsp; &nbsp; Now we will learn how to compile MySQL 5.7.17, actually not much different from the previous post <a href="https://fuwari-chan.github.io/posts/mysql/mysql-1/">Mysql On Redhat Arm64</a> , the difference when running a rather complicated server from the new version, is quite valuable for us to learn he...ðŸ¤“, how to compile and run mysql server version 5.7.17 on redhat arm64, like the previous post you can check for yourself what the compiling requirements are mysql can be checked here <a href="https://fuwari-chan.github.io/posts/mysql/mysql-1/">MySQL On Redhat Arm64</a></p>\n\n<p style="text-align: justify;">\n&nbsp; &nbsp; If we have completed the requirements for compiling MySQL 5.7.17, we proceed to the next stage :</p>\n\n1. Extract the MySQL source code\n2. Determine the path/dir for MySQL\n3. Configure the MySQL compile script\n4. Compile MySQL\n5. Running MySQL\n\n### 1. Extract the MySQL source code\n\n```\ntar -xvf mysql-boost-5.7.17.tar.gz\n```\n\n### 2. Determine the path/dir for MySQL\n\n```\nmv mysql-5.7.17 /opt/\n```\n\n:::note\nFor example, I save the MySQL source code in the /opt directory\n:::\n\n### 3. Configure the MySQL compile script\n\n```\ncd /opt/mysql-5.7.17/\nnano compile\n```\n\n`Copy Paste My Script`\n\n```\n#!/usr/bin/sh\n#script compile Â© noobieta\nU=${SUDO_USER:=${USER}}\nif [[ -x `which realpath` ]]; then\n        T=$(realpath ${BASH_SOURCE[0]:=${0}})\nelse\n        T=${BASH_SOURCE[0]:=${0}}\nfi\nD=$(dirname ${T})\n\ncmake \\\n-DWITH_BOOST=$D/boost/boost_1_59_0 \\\n-DCMAKE_INSTALL_PREFIX=/opt/MY-APP/mysql-5.7.17/www/server/mysql \\\n-DWITH_INNOBASE_STORAGE_ENGINE=1 \\\n-DDEFAULT_CHARSET=utf8 \\\n-DDEFAULT_COLLATION=utf8_general_ci \\\n-DMYSQL_UNIX_ADDR=/opt/MY-APP/mysql-5.7.17/tmp/run/mysql.sock \\\n-DMYSQL_DATADIR=/opt/MY-APP/mysql-5.7.17/www/server/data \\\n-DSYSCONFDIR=/opt/MY-APP/mysql-5.7.17/etc \\\n```\n\n`ctrl` + `x` yes to save \n\n:::note\nThe script above is an example\nnext we create a directory according to the script we created above!!!\n:::\n\n#### Create PREFIX MySQL directory\n\n```\nmkdir -p /opt/MY-APP/mysql-5.7.17/www/server/mysql\n```\n#### Create UNIX Socket MySQL directory\n\n```\nmkdir -p /opt/MY-APP/mysql-5.7.17/tmp/run/\n```\n\n#### Create Data MySQL directory\n\n```\nmkdir -p /opt/MY-APP/mysql-5.7.17/www/server/data\n```\n\n#### Create Sysconfig MySQL directory\n\n```\nmkdir -p /opt/MY-APP/mysql-5.7.17/etc\n```\n\n#### Give Permission UNIX Socket MySQL directory\n\n```\nsudo chmod -R 755 /opt/MY-APP/mysql-5.7.17/tmp/run/\n```\n\n#### Give Pernission  data MySQL directory\n\n```\nsudo chmod -R 777 /opt/MY-APP/mysql-5.7.17/www/server/data\n```\n\n#### Give Permission Sysconfig MySQL directory\n\n```\nsudo chmod 755 /opt/MY-APP/mysql-5.7.17/etc\n```\n\n:::note\ncreate directory follow the script compile\n:::\n\n#### Create Sysconfig For MySQL\n\n```\nnano my.cnf\n```\n\n`Copy Paste My Script`\n\n```\n[client]\n#password\t= 12345678\nport\t\t= 3306\nsocket\t\t= /opt/MY-APP/mysql-5.7.17/tmp/run/mysql.sock\n\n[mysqld]\n#user\t\t= root\nport\t\t= 3306\nsocket\t\t= /opt/MY-APP/mysql-5.7.17/tmp/run/mysql.sock\ndatadir = /opt/MY-APP/mysql-5.7.17/www/server/data\ncollation-server = utf8_unicode_ci\ninit-connect=\'SET NAMES utf8\'\ncharacter-set-server = utf8\n#default-character-set=utf8\ndefault_storage_engine = InnoDB\nperformance_schema_max_table_instances = 400\ntable_definition_cache = 400\n#skip-extended-insert\nskip-external-locking\nkey_buffer_size = 64M\nmax_allowed_packet = 1G\ntable_open_cache = 256\nsort_buffer_size = 1M\nnet_buffer_length = 4K\nread_buffer_size = 1M\nread_rnd_buffer_size = 256K\nmyisam_sort_buffer_size = 16M\nthread_cache_size = 32\nquery_cache_size = 32M\ntmp_table_size = 64M\n#sql-mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\n\nexplicit_defaults_for_timestamp = true\n#skip-name-resolve\nmax_connections = 500\nmax_connect_errors = 100\n#open_files_limit = 65535\nopen_files_limit = 32535\n\nlog-bin=mysql-bin\nbinlog_format=mixed\nserver-id = 1\nexpire_logs_days = 10\nslow_query_log=1\nslow-query-log-file= /opt/MY-APP/mysql-5.7.17/www/server/data/mysql-slow.log\nlong_query_time=3\n#log_queries_not_using_indexes=on\n\n\ninnodb_data_home_dir = /opt/MY-APP/mysql-5.7.17/www/server/data\ninnodb_data_file_path = ibdata1:10M:autoextend\ninnodb_log_group_home_dir = /opt/MY-APP/mysql-5.7.17/www/server/data\ninnodb_buffer_pool_size = 256M\ninnodb_log_file_size = 128M\ninnodb_log_buffer_size = 32M\ninnodb_flush_log_at_trx_commit = 1\ninnodb_lock_wait_timeout = 50\ninnodb_max_dirty_pages_pct = 90\ninnodb_read_io_threads = 8\ninnodb_write_io_threads = 8\n\n[mysqldump]\nquick\n#max_allowed_packet = 500M\nmax_allowed_packet = 100G\n\n[mysql]\nno-auto-rehash\n\n[myisamchk]\nkey_buffer_size = 64M\nsort_buffer_size = 1M\nread_buffer = 2M\nwrite_buffer = 2M\n\n[mysqlhotcopy]\ninteractive-timeout\n\n```\n\n#### Move Script Sysconfig MySQL\n\n```\nmv my.cnf /opt/MY-APP/mysql-5.7.17/etc\n\nor\n\nsudo mv my.cnf /opt/MY-APP/mysql-5.7.17/etc\n```\n:::note\nScript my.cnf just for example!!!\n:::\n\n### 4. Compile MySQL\n\n```\nbash compile\n\nor\n\nchmod +x compile\n./compile\n```\n\n#### Make it\n\n```\nmake\n```\n\n### Install to /opt/MY-APP/mysql-5.7.17/\n\n```\nsudo make install\n```\n\n:::note\nWait until the process is complete ðŸ˜Ž \nIf it is finished we move on to the next stage!!!\n:::\n\n### 5. Running MySQL\n\n1. inisialize\n\n```\nwww/server/mysql/bin/mysqld --inisialize\n```\n\n:::note\nWait until the process is complete ðŸ˜Ž!!!\n:::\n\n2. Run mysqld\n\n```\nwww/server/mysql/bin/mysqld\n```\n\n3. Run client\n\n```\nwww/server/mysql/bin/mysql -uroot\n```\n\n:::note[Trouble]\n`ERROR 1045 (28000): Access denied for user \'root\'@\'localhost\' (using password: NO)`\n:::\n\n```\npkill mysqld\n```\n\n1. Run mysqld_safe\n\n```\nwww/server/mysql/bin/mysqld_safe --skip-grant-tables\n```\n2. Run Client\n\n```\nwww/server/mysql/bin/mysql -uroot\n```\n\n:::note\nYou can access mysql server version 5.7.17 without password but without privileges!!!\n\nHow to access privileges?\n:::\n\nScreenshot\n\n<center><img width="500" height="500" src="/images/mysqld_safe.png"/></center>\n\n\n### Create User & Password for Access Privileges MySQL\n\n1. Run Mysql Server\n\n```\nwww/server/mysql/bin/mysqld_safe --skip-grant-tables\n```\n2. Run Client\n\n```\nwww/server/mysql/bin/mysql -uroot\n```\n\n3. Create user and password MySQL\n\n```\nCREATE USER \'redhat\'@\'localhost\' IDENTIFIED  BY \'12345678\';\n```\n\n:::note[Trouble]\nThe command to create a user and password above is for example and you will encounter the following problem:\n\n`ERROR 1290 (HY000): The MySQL server is running with the --skip-grant-tables option so it cannot execute this statement`\n:::\n\nScreenshot\n\n<center><img width="500" height="500" src="/images/erroruser.png"/></center>\n\n\n```\nFLUSH PRIVILEGES;\n```\n:::note\nEnter the command again to create a MySQL user and password\n:::\n\n```\nCREATE USER \'redhat\'@\'localhost\' IDENTIFIED  BY \'12345678\';\n```\n\n```\nGRANT CREATE, ALTER, DROP, INSERT, UPDATE, DELETE, SELECT, REFERENCES, RELOAD on *.* TO \'redhat\'@\'localhost\' WITH GRANT OPTION;\n```\n\n```\nGRANT ALL PRIVILEGES ON *.* TO \'redhat\'@\'localhost\' WITH GRANT OPTION;\n```\n\n```\nFLUSH PRIVILEGES;\n```\n\n```\nquit;\n```\n\n#### Test User Privileges MySQL\n\n```\npkill mysqld\n```\n\n1. Run MySQL Server\n\n```\nwww/server/mysql/bin/mysqld\n```\n\n2. Run Client\n\n```\nwww/server/mysql/bin/mysql -u redhat -p\n```\n\n:::note\nEnter the password you created previously!!!\n:::\n\n## Violaaa ðŸ¥³\n\nScreenshot show database\n\n<center><img width="500" height="500" src="/images/databases.png" /></center>\n\n\nScreenshot create database\n\n<center><img width="500" height="500" src="/images/createdatabase.png" /></center>\n\n\n:::note[The end]\nI Hope this useful and thank you ðŸ¥³\n:::\n',data={title:"MySQL 5.7.17 On Redhat",published:new Date(17334432e5),draft:!1,description:"How to Compile MySQL 5.7.17 On Redhat Arm64",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRf7DmRKlxafKjPMzLm49FFUix6Hc-5conTsotJz9EkAKHfuU54b3X3VhO_&s=10",tags:["Basic Termux","Termux Basic","Linux Basic","Basic Linux","Blogging","Catatan","Tutorial","MySQL"],category:"MYSQL"},_internal={type:"content",filePath:"/home/kosetsu/my-doc/fuwariblog/src/content/posts/mysql/mysql-3.md",rawData:void 0};export{_internal,body,collection,data,id,slug};
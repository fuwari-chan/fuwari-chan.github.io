if("string"!=typeof twitterAccount)var twitterAccount="";if("string"!=typeof tweetThisText||""==tweetThisText)var tweetThisText=document.title+" "+document.URL;if("boolean"!=typeof showTweet)var showTweet=!1;var tweetthislink=null;if("string"!=typeof otherPageOrFeed||""==otherPageOrFeed)var otherPageOrFeed=!1;var birdSprite="http://3.bp.blogspot.com/-DM_k8GxfA1g/TwsnK4ktm0I/AAAAAAAAAUk/QJB6H5CDfGk/s1600/btsnts-twitterbirdsprite.png",twitterfeedreader="",hyperlinkStyle="color:#27b;text-decoration:none;",birdSpeed=12,birdSpaceVertical=16,birdSetUp=2,spriteWidth=64,spriteHeight=64,spriteAniSpeed=72,spriteAniSpeedSlow=Math.round(1.75*spriteAniSpeed),targetElems=new Array("img","hr","input","textarea","button","select","table","td","div","ul","ol","li","h1","h2","h3","h4","p","code","object","a","b","strong","span"),neededElems4random=10,minElemWidth=Math.round(spriteWidth/3),scareTheBirdMouseOverTimes=4,scareTheBirdTime=1e3,showOnMobile=!1,birdIsFlying=!1,scrollPos=0,windowHeight=getWindowHeight(),windowWidth=getWindowWidth();windowHeight<=spriteHeight+2*birdSpaceVertical&&(windowHeight=spriteHeight+2*birdSpaceVertical+1),windowWidth<=spriteWidth&&(windowWidth=spriteWidth+1);var birdPosX=Math.round(Math.random()*(windowWidth-spriteWidth+200)-200),birdPosY=-2*spriteHeight,timeoutAnimation=!1,timeoutFlight=!1,showButtonsTimeout=null,hideButtonsTimeout=null,scareTheBirdLastTime=0,scareTheBirdCount=0;function tripleflapInit(t){if(void 0!==t){if(showOnMobile||"string"!=typeof navigator.userAgent||!is_mobile(navigator.userAgent)){is_utf8(tweetThisText)||(tweetThisText=utf8_encode(tweetThisText));var e="http://twitter.com/home?status="+escape(tweetThisText);""==twitterAccount&&(showTweet=!1);var i=""!=twitterAccount?"http://twitter.com/"+twitterAccount:0!=otherPageOrFeed?otherPageOrFeed:"http://twitter.com/",o=document.createElement("a");o.setAttribute("id","tBird"),o.setAttribute("href",i),o.setAttribute("target","_blank"),o.style.display="block",o.style.position="absolute",o.style.left=birdPosX+"px",o.style.top=birdPosY+"px",o.style.width=spriteWidth+"px",o.style.height=spriteHeight+"px",o.style.background="url('"+birdSprite+"') no-repeat transparent",o.style.backgroundPosition="-0px -0px",o.style.zIndex="947",o.onmouseover=function(){scareTheBird(),showButtonsTimeout=window.setTimeout("showButtons(0,"+windowWidth+","+windowHeight+")",400),window.clearTimeout(hideButtonsTimeout)},o.onmouseout=function(){hideButtonsTimeout=window.setTimeout("hideButtons()",50)},document.body.appendChild(o);var n=document.createElement("a");n.setAttribute("id","tBirdLtweet"),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.setAttribute("title","tweet this"),n.style.display="none",n.style.position="absolute",n.style.left="0px",n.style.top="-100px",n.style.background="url('"+birdSprite+"') no-repeat transparent",n.style.opacity="0",n.style.filter="alpha(opacity=0)",n.style.backgroundPosition="-64px -0px",n.style.width="58px",n.style.height="30px",n.style.zIndex="951",n.onmouseover=function(){window.clearTimeout(hideButtonsTimeout)},n.onmouseout=function(){hideButtonsTimeout=window.setTimeout("hideButtons()",50)},document.body.appendChild(n);var r=n.cloneNode(!1);if(r.setAttribute("id","tBirdLfollow"),r.setAttribute("href",i),r.setAttribute("title","follow "+(twitterAccount?"@"+twitterAccount:"me")),r.style.backgroundPosition="-64px -30px",r.style.width="58px",r.style.height="20px",r.style.zIndex="952",r.onmouseover=function(){window.clearTimeout(hideButtonsTimeout)},r.onmouseout=function(){hideButtonsTimeout=window.setTimeout("hideButtons()",50)},document.body.appendChild(r),1==showTweet){var d=document.createElement("div");d.setAttribute("id","tBirdStatxLow"),d.style.display="none",d.style.position="absolute",d.style.left="0px",d.style.top="-100px",d.style.background="transparent",d.style.opacity="0",d.style.filter="alpha(opacity=0)",d.style.width="192px",d.style.zIndex="955",d.onmouseover=function(){window.clearTimeout(hideButtonsTimeout)},d.onmouseout=function(){hideButtonsTimeout=window.setTimeout("hideButtons()",50)};var s=d.cloneNode(!1);s.setAttribute("id","tBirdStatxUpr"),s.onmouseover=function(){window.clearTimeout(hideButtonsTimeout)},s.onmouseout=function(){hideButtonsTimeout=window.setTimeout("hideButtons()",50)};var l=document.createElement("div");l.setAttribute("id","tBirdStatxArrLow"),l.style.background="url('"+birdSprite+"') no-repeat transparent",l.style.backgroundPosition="-64px -50px",l.style.width="32px",l.style.height="9px",l.style.margin="0 0 -1px 56px",l.style.position="relative",l.style.zIndex="957";var a=l.cloneNode(!1);a.setAttribute("id","tBirdStatxArrUpr"),a.style.backgroundPosition="-96px -50px",a.style.margin="-1px 0 0 60px";var u=document.createElement("div");u.setAttribute("id","tBirdStatxInLow"),u.style.background="#fbfcfc",u.style.border="1px solid #555",u.style.MozBorderRadius="6px",u.style.borderRadius="6px",u.style.padding="3px 5px",u.style.fontSize="11px",u.style.fontFamily="Arial",u.style.textAlign="left",u.style.position="relative",u.style.zIndex="956",u.innerHTML="loading...";var c=u.cloneNode(!1);c.setAttribute("id","tBirdStatxInUpr"),c.innerHTML="loading...",d.appendChild(l),d.appendChild(u),s.appendChild(c),s.appendChild(a),document.body.appendChild(d),document.body.appendChild(s)}window.setTimeout("animateSprite(0,0,0,0,null,true)",spriteAniSpeed);window.onscroll=recheckposition,1==showTweet&&loadStatusText(),recheckposition()}}else window.setTimeout("tripleflapInit(1)",250)}function animateSprite(t,e,i,o,n,r){("number"!=typeof o||o>i-e)&&(o=0),document.getElementById("tBird").style.backgroundPosition="-"+Math.round((e+o)*spriteWidth)+"px -"+spriteHeight*t+"px",1!=r&&("number"!=typeof n&&(n=spriteAniSpeed),timeoutAnimation=window.setTimeout("animateSprite("+t+","+e+","+i+","+(o+1)+","+n+")",n))}function animateSpriteAbort(){window.clearTimeout(timeoutAnimation)}function recheckposition(t){if(1!=t&&(t=!1),birdIsFlying)return!1;windowHeight=getWindowHeight(),windowWidth=getWindowWidth(),windowHeight<=spriteHeight+2*birdSpaceVertical&&(windowHeight=spriteHeight+2*birdSpaceVertical+1),windowWidth<=spriteWidth&&(windowWidth=spriteWidth+1),"number"==typeof window.pageYOffset?scrollPos=window.pageYOffset:document.body&&document.body.scrollTop?scrollPos=document.body.scrollTop:document.documentElement&&document.documentElement.scrollTop&&(scrollPos=document.documentElement.scrollTop),birdPosY=parseInt(document.getElementById("tBird").style.top),birdPosX=parseInt(document.getElementById("tBird").style.left),(scrollPos+birdSpaceVertical>=birdPosY||scrollPos+windowHeight-spriteHeight<birdPosY||t)&&(hideButtons(),elemPosis=chooseNewTarget(),elemPosis.length<1?(elemType=null,elemNr=null,elemTop=scrollPos+Math.round(Math.random()*(windowHeight-spriteHeight)),elemLeft=Math.round(Math.random()*(windowWidth-spriteWidth)),elemWidth=0):(newTarget=elemPosis[Math.round(Math.random()*(elemPosis.length-1))],elemType=newTarget[0],elemNr=newTarget[1],elemTop=newTarget[2],elemLeft=newTarget[3],elemWidth=newTarget[4]),targetTop=elemTop-spriteHeight,targetLeft=Math.round(elemLeft-spriteWidth/2+Math.random()*elemWidth),targetLeft>windowWidth-spriteWidth-24?targetLeft=windowWidth-spriteWidth-24:targetLeft<0&&(targetLeft=0),birdIsFlying=!0,flyFromTo(birdPosX,birdPosY,targetLeft,targetTop,0))}function chooseNewTarget(){for(var t=new Array,e=scrollPos+spriteHeight+birdSpaceVertical,i=scrollPos+windowHeight-birdSpaceVertical,o=0;o<targetElems.length;o++)for(var n=targetElems[o],r=document.getElementsByTagName(n).length,d=0;d<r;d++){var s=document.getElementsByTagName(n)[d].offsetTop,l=document.getElementsByTagName(n)[d].offsetLeft,a=document.getElementsByTagName(n)[d].offsetWidth;if(!(s<=e||s>=i||a<minElemWidth||l<0)&&(t[t.length]=new Array(n,d,s,l,a),t.length>=neededElems4random))return t}return t}function flyFromTo(t,e,i,o,n,r){if(justStarted=0==n,n+=n>birdSpeed/2?birdSpeed:Math.round(0==n?birdSpeed/4:birdSpeed/2),solvedFuture=n+(n>birdSpeed/2?birdSpeed:Math.round(birdSpeed/2)),distanceX=i-t,distanceY=o-e,distance=Math.sqrt(distanceX*distanceX+distanceY*distanceY),solvPerc=Math.abs(1/distance*n),solvDistX=Math.round(distanceX*solvPerc),solvDistY=Math.round(distanceY*solvPerc),solvPercFuture=Math.abs(1/distance*solvedFuture),solvDistXFuture=Math.round(distanceX*solvPercFuture),solvDistYFuture=Math.round(distanceY*solvPercFuture),"string"!=typeof r&&(r=null,angle=(0!=distanceX?Math.atan(-distanceY/distanceX)/Math.PI*180:90)+(distanceX<0?180:0),angle<0&&(angle+=360),r=angle<45?"o":angle<135?"n":angle<202.5?"w":angle<247.5?"sw":angle<292.5?"s":angle<337.5?"so":"o"),Math.abs(solvDistXFuture)>=Math.abs(distanceX)&&Math.abs(solvDistYFuture)>=Math.abs(distanceY)){switch(animateSpriteAbort(),r){case"so":case"o":animateSprite(1,0,0,0,null,!0);break;case"sw":case"w":animateSprite(1,2,2,0,null,!0);break;case"s":animateSprite(0,2,2,0,null,!0);break;case"n":animateSprite(4,0,0,0,null,!0);break;default:animateSprite(0,0,0,0,null,!0)}timeoutAnimation=window.setTimeout("animateSprite(0,0,0,0,null,true)",spriteAniSpeed)}if(Math.abs(solvDistX)>=Math.abs(distanceX)&&Math.abs(solvDistY)>=Math.abs(distanceY))solvDistX=distanceX,solvDistY=distanceY,birdIsFlying=!1,window.setTimeout("recheckposition()",500);else{if(justStarted)switch(animateSpriteAbort(),r){case"so":animateSprite(1,0,0,0,null,!0),timeoutAnimation=window.setTimeout("animateSprite(1,1,1,0,null,true)",spriteAniSpeed);break;case"sw":animateSprite(1,2,2,0,null,!0),timeoutAnimation=window.setTimeout("animateSprite(1,3,3,0,null,true)",spriteAniSpeed);break;case"s":animateSprite(0,2,2,0,null,!0),timeoutAnimation=window.setTimeout("animateSprite(0,3,3,0,null,true)",spriteAniSpeed);break;case"n":timeoutAnimation=window.setTimeout("animateSprite(4,0,3,0,"+spriteAniSpeedSlow+")",1);break;case"o":animateSprite(1,0,0,0,null,!0),timeoutAnimation=window.setTimeout("animateSprite(2,0,3,0,"+spriteAniSpeedSlow+")",spriteAniSpeed);break;case"w":animateSprite(1,2,2,0,null,!0),timeoutAnimation=window.setTimeout("animateSprite(3,0,3,0,"+spriteAniSpeedSlow+")",spriteAniSpeed);break;default:animateSprite(0,0,0,0,null,!0)}timeoutFlight=window.setTimeout("flyFromTo("+t+","+e+","+i+","+o+","+n+",'"+r+"')",50)}hideButtons(),document.getElementById("tBird").style.left=t+solvDistX+"px",document.getElementById("tBird").style.top=e+solvDistY+birdSetUp+"px"}function scareTheBird(t){newTS=(new Date).getTime(),scareTheBirdLastTime<newTS-scareTheBirdTime?(scareTheBirdCount=1,scareTheBirdLastTime=newTS):++scareTheBirdCount>=scareTheBirdMouseOverTimes&&(scareTheBirdCount=0,scareTheBirdLastTime=0,recheckposition(!0))}function showButtons(t,e,i){birdPosY=parseInt(document.getElementById("tBird").style.top),birdPosX=parseInt(document.getElementById("tBird").style.left),0==t&&"block"==document.getElementById("tBirdLtweet").style.display&&(t=100),birdIsFlying&&(t=0),opacity=Math.round(15*t),opacity<0&&(opacity=0),opacity>100&&(opacity=100),birdPosX<e-300||birdPosX<e/2?(buttonPosX1=birdPosX+spriteWidth-15,buttonPosX2=birdPosX+spriteWidth-10):(buttonPosX1=birdPosX+16-parseInt(document.getElementById("tBirdLtweet").style.width),buttonPosX2=birdPosX+11-parseInt(document.getElementById("tBirdLfollow").style.width)),buttonPosY1=birdPosY-0,buttonPosY2=birdPosY-0+parseInt(document.getElementById("tBirdLtweet").style.height),document.getElementById("tBirdLtweet").style.left=buttonPosX1+"px",document.getElementById("tBirdLtweet").style.top=buttonPosY1+"px",document.getElementById("tBirdLtweet").style.display="block",document.getElementById("tBirdLtweet").style.opacity=opacity/100,document.getElementById("tBirdLtweet").style.filter="alpha(opacity="+opacity+")",document.getElementById("tBirdLfollow").style.left=buttonPosX2+"px",document.getElementById("tBirdLfollow").style.top=buttonPosY2+"px",document.getElementById("tBirdLfollow").style.display="block",document.getElementById("tBirdLfollow").style.opacity=opacity/100,document.getElementById("tBirdLfollow").style.filter="alpha(opacity="+opacity+")",1==showTweet&&("number"==typeof window.pageYOffset?scrollPos=window.pageYOffset:document.body&&document.body.scrollTop?scrollPos=document.body.scrollTop:document.documentElement&&document.documentElement.scrollTop&&(scrollPos=document.documentElement.scrollTop),boxMoveX=birdPosX<64?64-birdPosX:birdPosX>e-64?e-birdPosX-64:0,txtBoxPosX=Math.round(birdPosX+spriteWidth/2-parseInt(document.getElementById("tBirdStatxLow").style.width)/2+boxMoveX),birdPosY<i/2+scrollPos?(txtBoxPosY=birdPosY+spriteHeight,document.getElementById("tBirdStatxLow").style.left=txtBoxPosX+"px",document.getElementById("tBirdStatxLow").style.top=txtBoxPosY+"px",document.getElementById("tBirdStatxLow").style.display="block",document.getElementById("tBirdStatxLow").style.opacity=opacity/100,document.getElementById("tBirdStatxLow").style.filter="alpha(opacity="+opacity+")"):(txtBoxPosY=birdPosY-document.getElementById("tBirdStatxUpr").offsetHeight,document.getElementById("tBirdStatxUpr").style.left=txtBoxPosX+"px",document.getElementById("tBirdStatxUpr").style.top=txtBoxPosY+"px",document.getElementById("tBirdStatxUpr").style.display="block",document.getElementById("tBirdStatxUpr").style.opacity=opacity/100,document.getElementById("tBirdStatxUpr").style.filter="alpha(opacity="+opacity+")")),opacity>=100||(t++,showButtonsTimeout=window.setTimeout("showButtons("+t+","+e+","+i+")",60))}function hideButtons(){window.clearTimeout(showButtonsTimeout),document.getElementById("tBirdLtweet").style.display="none",document.getElementById("tBirdLtweet").style.opacity="0",document.getElementById("tBirdLtweet").style.filter="alpha(opacity=0)",document.getElementById("tBirdLfollow").style.display="none",document.getElementById("tBirdLfollow").style.opacity="0",document.getElementById("tBirdLfollow").style.filter="alpha(opacity=0)",1==showTweet&&(document.getElementById("tBirdStatxLow").style.display="none",document.getElementById("tBirdStatxLow").style.opacity="0",document.getElementById("tBirdStatxLow").style.filter="alpha(opacity=0)",document.getElementById("tBirdStatxUpr").style.display="none",document.getElementById("tBirdStatxUpr").style.opacity="0",document.getElementById("tBirdStatxUpr").style.filter="alpha(opacity=0)")}function loadStatusText(){param="tuac="+twitterAccount;var t=window.XMLHttpRequest?new XMLHttpRequest:!!window.ActiveXObject&&new ActiveXObject("Microsoft.XMLHTTP");t||(document.getElementById("tBirdStatxInLow").innerHTML="Error: could not create Ajax-request"),t.open("POST",twitterfeedreader,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.setRequestHeader("Content-Length",param.length),t.setRequestHeader("Connection","close"),t.onreadystatechange=function(){4==t.readyState&&(resp=200==t.status?t.responseText:"Error: Ajax-request failed,HTTP-Code "+t.status,resp=resp.replace(/<a /g,'<a style="'+hyperlinkStyle+'" '),document.getElementById("tBirdStatxInLow").innerHTML=resp,document.getElementById("tBirdStatxInUpr").innerHTML=resp)},t.send(param)}function getWindowWidth(){return"number"==typeof window.innerWidth?ww=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?ww=document.documentElement.clientWidth:document.body&&document.body.clientWidth?ww=document.body.clientWidth:ww=800,ww}function getWindowHeight(){return"number"==typeof window.innerHeight?wh=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?wh=document.documentElement.clientHeight:document.body&&document.body.clientHeight?wh=document.body.clientHeight:wh=450,wh}function is_mobile(t){return t.toLowerCase().search(/(iphone|ipod|opera mini|windows ce|windows phone|palm|blackberry|android|symbian|series60|samsung|nokia|playstation portable|htc[\-_]|up\.browser|profile\/midp|[1-4][0-9]{2}x[1-4][0-9]{2})/)>-1}function utf8_encode(t){for(t=t.replace(/\r\n/g,"\n"),utf8str="",n=0;n<t.length;n++)c=t.charCodeAt(n),c<128?utf8str+=String.fromCharCode(c):c>127&&c<2048?(utf8str+=String.fromCharCode(c>>6|192),utf8str+=String.fromCharCode(63&c|128)):(utf8str+=String.fromCharCode(c>>12|224),utf8str+=String.fromCharCode(c>>6&63|128),utf8str+=String.fromCharCode(63&c|128));return utf8str}function is_utf8(t){for(strlen=t.length,i=0;i<strlen;i++)if(ord=t.charCodeAt(i),!(ord<128)){if(192==(224&ord)&&ord>193)n=1;else if(224==(240&ord))n=2;else{if(!(240==(248&ord)&&ord<245))return!1;n=3}for(c=0;c<n;c++)if(++i===strlen||128!=(192&t.charCodeAt(i)))return!1}return!0}